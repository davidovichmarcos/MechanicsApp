{"ast":null,"code":"import _objectSpread from \"/home/marcos/workspace/mechanics-app/mechanics-client/src/main/js/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _taggedTemplateLiteral from \"/home/marcos/workspace/mechanics-app/mechanics-client/src/main/js/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/home/marcos/workspace/mechanics-app/mechanics-client/src/main/js/src/components/ClientCreate.js\";\n\nfunction _templateObject() {\n  const data = _taggedTemplateLiteral([\"\"]);\n\n  _templateObject = function () {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport { Input, Button } from \"rsuite\";\nimport ClientList from \"./ClientList\";\nconst Style = styled.div(_templateObject());\nexport default class ClientCreate extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      formData: {},\n      clientList: [{}]\n    };\n\n    this.handleChange = event => {\n      this.setState({\n        formData: _objectSpread({}, this.state.formData, {\n          [event.target.name]: event.target.value\n        })\n      });\n    };\n\n    this.resetForm = () => {\n      this.setState(_objectSpread({}, this.state, {\n        formData: {}\n      }));\n    };\n  }\n\n  async submitForm(e) {\n    /// meter en process.env\n    var url = \"http://localhost:8080/client\";\n    var data = this.state.formData;\n    var settings = {\n      method: \"POST\",\n      body: JSON.stringify(data),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    };\n    return await fetch(url, settings).then(res => res.json()).then(res => {\n      if (res.id == null) {\n        //hacer algo cuando resive ok.\n        console.log(\"------ LLEGO MAL!\");\n      } else {\n        this.fetchClients();\n      }\n    }).catch(error => console.error(\"Error:\", error));\n  }\n\n  async fetchClients() {\n    var url = \"http://localhost:8080/client\";\n    return await fetch(url).then(res => res.json()).then(res => {\n      this.setState(_objectSpread({}, this.state, {\n        clientList: res\n      }));\n    }).catch(error => console.error(\"Error:\", error));\n  }\n\n  async componentDidMount() {\n    this.fetchClients();\n  }\n\n  render() {\n    return React.createElement(Style, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, \"CLIENT CREATE\"), React.createElement(\"form\", {\n      action: \"\",\n      method: \"post\",\n      onSubmit: e => {\n        e.preventDefault();\n        this.submitForm(e);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(Input, {\n      type: \"text\",\n      name: \"name\",\n      id: \"\",\n      placeholder: \"Nombre\",\n      onChange: this.handleChange,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }), React.createElement(Input, {\n      type: \"text\",\n      name: \"lastName\",\n      id: \"\",\n      placeholder: \"Apellido\",\n      onChange: this.handleChange,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }), React.createElement(Input, {\n      type: \"number\",\n      name: \"dni\",\n      id: \"\",\n      min: \"0\",\n      placeholder: \"Dni\",\n      required: true,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }), React.createElement(Input, {\n      type: \"number\",\n      name: \"phone\",\n      id: \"\",\n      min: \"0\",\n      placeholder: \"Telefono\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }), React.createElement(Input, {\n      type: \"email\",\n      name: \"email\",\n      id: \"\",\n      placeholder: \"Email\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }), React.createElement(Input, {\n      type: \"text\",\n      name: \"address\",\n      id: \"\",\n      placeholder: \"Direccion\",\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }), React.createElement(Button, {\n      color: \"green\",\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, \"CREAR\")), this.state.clientList.length > 0 ? React.createElement(ClientList, {\n      clientList: this.state.clientList,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }) : \"\");\n  }\n\n}","map":{"version":3,"sources":["/home/marcos/workspace/mechanics-app/mechanics-client/src/main/js/src/components/ClientCreate.js"],"names":["React","Component","styled","Input","Button","ClientList","Style","div","ClientCreate","state","formData","clientList","handleChange","event","setState","target","name","value","resetForm","submitForm","e","url","data","settings","method","body","JSON","stringify","headers","fetch","then","res","json","id","console","log","fetchClients","catch","error","componentDidMount","render","preventDefault","length"],"mappings":";;;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAASC,KAAT,EAAgBC,MAAhB,QAA8B,QAA9B;AAEA,OAAOC,UAAP,MAAuB,cAAvB;AAEA,MAAMC,KAAK,GAAGJ,MAAM,CAACK,GAAV,mBAAX;AAEA,eAAe,MAAMC,YAAN,SAA2BP,SAA3B,CAAqC;AAAA;AAAA;AAAA,SAClDQ,KADkD,GAC1C;AACNC,MAAAA,QAAQ,EAAE,EADJ;AAENC,MAAAA,UAAU,EAAE,CAAC,EAAD;AAFN,KAD0C;;AAAA,SAMlDC,YANkD,GAMnCC,KAAK,IAAI;AACtB,WAAKC,QAAL,CAAc;AACZJ,QAAAA,QAAQ,oBACH,KAAKD,KAAL,CAAWC,QADR;AAEN,WAACG,KAAK,CAACE,MAAN,CAAaC,IAAd,GAAqBH,KAAK,CAACE,MAAN,CAAaE;AAF5B;AADI,OAAd;AAMD,KAbiD;;AAAA,SAoDlDC,SApDkD,GAoDtC,MAAM;AAChB,WAAKJ,QAAL,mBACK,KAAKL,KADV;AAEEC,QAAAA,QAAQ,EAAE;AAFZ;AAID,KAzDiD;AAAA;;AAelD,QAAMS,UAAN,CAAiBC,CAAjB,EAAoB;AAClB;AACA,QAAIC,GAAG,GAAG,8BAAV;AACA,QAAIC,IAAI,GAAG,KAAKb,KAAL,CAAWC,QAAtB;AACA,QAAIa,QAAQ,GAAG;AACbC,MAAAA,MAAM,EAAE,MADK;AAEbC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeL,IAAf,CAFO;AAGbM,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT;AAHI,KAAf;AAOA,WAAO,MAAMC,KAAK,CAACR,GAAD,EAAME,QAAN,CAAL,CACVO,IADU,CACLC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADF,EAEVF,IAFU,CAELC,GAAG,IAAI;AACX,UAAIA,GAAG,CAACE,EAAJ,IAAU,IAAd,EAAoB;AAClB;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;AACD,OAHD,MAGO;AACL,aAAKC,YAAL;AACD;AACF,KATU,EAUVC,KAVU,CAUJC,KAAK,IAAIJ,OAAO,CAACI,KAAR,CAAc,QAAd,EAAwBA,KAAxB,CAVL,CAAb;AAWD;;AAED,QAAMF,YAAN,GAAqB;AACnB,QAAIf,GAAG,GAAG,8BAAV;AACA,WAAO,MAAMQ,KAAK,CAACR,GAAD,CAAL,CACVS,IADU,CACLC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADF,EAEVF,IAFU,CAELC,GAAG,IAAI;AACX,WAAKjB,QAAL,mBACK,KAAKL,KADV;AAEEE,QAAAA,UAAU,EAAEoB;AAFd;AAID,KAPU,EAQVM,KARU,CAQJC,KAAK,IAAIJ,OAAO,CAACI,KAAR,CAAc,QAAd,EAAwBA,KAAxB,CARL,CAAb;AASD;;AASD,QAAMC,iBAAN,GAA0B;AACxB,SAAKH,YAAL;AACD;;AAEDI,EAAAA,MAAM,GAAG;AACP,WACE,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADF,EAEE;AACE,MAAA,MAAM,EAAC,EADT;AAEE,MAAA,MAAM,EAAC,MAFT;AAGE,MAAA,QAAQ,EAAEpB,CAAC,IAAI;AACbA,QAAAA,CAAC,CAACqB,cAAF;AACA,aAAKtB,UAAL,CAAgBC,CAAhB;AACD,OANH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAQE,oBAAC,KAAD;AACE,MAAA,IAAI,EAAC,MADP;AAEE,MAAA,IAAI,EAAC,MAFP;AAGE,MAAA,EAAE,EAAC,EAHL;AAIE,MAAA,WAAW,EAAC,QAJd;AAKE,MAAA,QAAQ,EAAE,KAAKR,YALjB;AAME,MAAA,QAAQ,MANV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MARF,EAgBE,oBAAC,KAAD;AACE,MAAA,IAAI,EAAC,MADP;AAEE,MAAA,IAAI,EAAC,UAFP;AAGE,MAAA,EAAE,EAAC,EAHL;AAIE,MAAA,WAAW,EAAC,UAJd;AAKE,MAAA,QAAQ,EAAE,KAAKA,YALjB;AAME,MAAA,QAAQ,MANV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAhBF,EAwBE,oBAAC,KAAD;AACE,MAAA,IAAI,EAAC,QADP;AAEE,MAAA,IAAI,EAAC,KAFP;AAGE,MAAA,EAAE,EAAC,EAHL;AAIE,MAAA,GAAG,EAAC,GAJN;AAKE,MAAA,WAAW,EAAC,KALd;AAME,MAAA,QAAQ,MANV;AAOE,MAAA,QAAQ,EAAE,KAAKA,YAPjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAxBF,EAiCE,oBAAC,KAAD;AACE,MAAA,IAAI,EAAC,QADP;AAEE,MAAA,IAAI,EAAC,OAFP;AAGE,MAAA,EAAE,EAAC,EAHL;AAIE,MAAA,GAAG,EAAC,GAJN;AAKE,MAAA,WAAW,EAAC,UALd;AAME,MAAA,QAAQ,EAAE,KAAKA,YANjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAjCF,EAyCE,oBAAC,KAAD;AACE,MAAA,IAAI,EAAC,OADP;AAEE,MAAA,IAAI,EAAC,OAFP;AAGE,MAAA,EAAE,EAAC,EAHL;AAIE,MAAA,WAAW,EAAC,OAJd;AAKE,MAAA,QAAQ,EAAE,KAAKA,YALjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAzCF,EAgDE,oBAAC,KAAD;AACE,MAAA,IAAI,EAAC,MADP;AAEE,MAAA,IAAI,EAAC,SAFP;AAGE,MAAA,EAAE,EAAC,EAHL;AAIE,MAAA,WAAW,EAAC,WAJd;AAKE,MAAA,QAAQ,EAAE,KAAKA,YALjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAhDF,EAuDE,oBAAC,MAAD;AAAQ,MAAA,KAAK,EAAC,OAAd;AAAsB,MAAA,IAAI,EAAC,QAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAvDF,CAFF,EA6DG,KAAKH,KAAL,CAAWE,UAAX,CAAsB+B,MAAtB,GAA+B,CAA/B,GACC,oBAAC,UAAD;AAAY,MAAA,UAAU,EAAE,KAAKjC,KAAL,CAAWE,UAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,GAGC,EAhEJ,CADF;AAqED;;AArIiD","sourcesContent":["import React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport { Input, Button } from \"rsuite\";\n\nimport ClientList from \"./ClientList\";\n\nconst Style = styled.div``;\n\nexport default class ClientCreate extends Component {\n  state = {\n    formData: {},\n    clientList: [{}]\n  };\n\n  handleChange = event => {\n    this.setState({\n      formData: {\n        ...this.state.formData,\n        [event.target.name]: event.target.value\n      }\n    });\n  };\n\n  async submitForm(e) {\n    /// meter en process.env\n    var url = \"http://localhost:8080/client\";\n    var data = this.state.formData;\n    var settings = {\n      method: \"POST\",\n      body: JSON.stringify(data),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    };\n    return await fetch(url, settings)\n      .then(res => res.json())\n      .then(res => {\n        if (res.id == null) {\n          //hacer algo cuando resive ok.\n          console.log(\"------ LLEGO MAL!\");\n        } else {\n          this.fetchClients();\n        }\n      })\n      .catch(error => console.error(\"Error:\", error));\n  }\n\n  async fetchClients() {\n    var url = \"http://localhost:8080/client\";\n    return await fetch(url)\n      .then(res => res.json())\n      .then(res => {\n        this.setState({\n          ...this.state,\n          clientList: res\n        });\n      })\n      .catch(error => console.error(\"Error:\", error));\n  }\n\n  resetForm = () => {\n    this.setState({\n      ...this.state,\n      formData: {}\n    });\n  };\n\n  async componentDidMount() {\n    this.fetchClients();\n  }\n\n  render() {\n    return (\n      <Style>\n        <h2>CLIENT CREATE</h2>\n        <form\n          action=\"\"\n          method=\"post\"\n          onSubmit={e => {\n            e.preventDefault();\n            this.submitForm(e);\n          }}\n        >\n          <Input\n            type=\"text\"\n            name=\"name\"\n            id=\"\"\n            placeholder=\"Nombre\"\n            onChange={this.handleChange}\n            required\n          />\n          <Input\n            type=\"text\"\n            name=\"lastName\"\n            id=\"\"\n            placeholder=\"Apellido\"\n            onChange={this.handleChange}\n            required\n          />\n          <Input\n            type=\"number\"\n            name=\"dni\"\n            id=\"\"\n            min=\"0\"\n            placeholder=\"Dni\"\n            required\n            onChange={this.handleChange}\n          />\n          <Input\n            type=\"number\"\n            name=\"phone\"\n            id=\"\"\n            min=\"0\"\n            placeholder=\"Telefono\"\n            onChange={this.handleChange}\n          />\n          <Input\n            type=\"email\"\n            name=\"email\"\n            id=\"\"\n            placeholder=\"Email\"\n            onChange={this.handleChange}\n          />\n          <Input\n            type=\"text\"\n            name=\"address\"\n            id=\"\"\n            placeholder=\"Direccion\"\n            onChange={this.handleChange}\n          />\n          <Button color=\"green\" type=\"submit\">\n            CREAR\n          </Button>\n        </form>\n        {this.state.clientList.length > 0 ? (\n          <ClientList clientList={this.state.clientList} />\n        ) : (\n          \"\"\n        )}\n      </Style>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}