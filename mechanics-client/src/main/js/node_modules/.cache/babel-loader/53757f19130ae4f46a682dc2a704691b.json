{"ast":null,"code":"import _objectSpread from \"/home/marcos/workspace/mechanics-app/mechanics-client/src/main/js/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _taggedTemplateLiteral from \"/home/marcos/workspace/mechanics-app/mechanics-client/src/main/js/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/home/marcos/workspace/mechanics-app/mechanics-client/src/main/js/src/components/CarCreate.js\";\n\nfunction _templateObject() {\n  const data = _taggedTemplateLiteral([\"\"]);\n\n  _templateObject = function () {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport { Input, Button } from \"rsuite\";\nimport CarList from \"./CarList\";\nconst Style = styled.div(_templateObject());\n\nfunction SelectOwner({\n  clients,\n  clientChange\n}) {\n  if (clients.length > 0) {\n    return React.createElement(\"select\", {\n      name: \"client\",\n      id: \"\",\n      onChange: clientChange,\n      defaultValue: \"DEFAULT\",\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 12\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      disabled: true,\n      value: \"DEFAULT\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 19\n      },\n      __self: this\n    }, \"-- select an owner --\"), clients.map((client, i) => {\n      return React.createElement(\"option\", {\n        value: client.id,\n        key: i,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 24\n        },\n        __self: this\n      }, client.name + \" \" + client.lastName, \" \");\n    }));\n  } else {\n    return \"CREAR CLIENTES\";\n  }\n}\n\nexport default class CarCreate extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      formData: {},\n      clientList: [],\n      carList: []\n    };\n\n    this.handleChange = event => {\n      this.setState({\n        formData: _objectSpread({}, this.state.formData, {\n          [event.target.name]: event.target.value\n        })\n      });\n    };\n\n    this.clientChange = event => {\n      let client = this.state.clientList[event.target.value - 1];\n      this.setState(_objectSpread({}, this.state, {\n        formData: _objectSpread({}, this.state.formData, {\n          client: client\n        })\n      }));\n    };\n  }\n\n  //MODIFICAR!\n  async submitForm() {\n    /// meter en process.env\n    var url = \"http://localhost:8080/car\";\n    var data = this.state.formData;\n    var settings = {\n      method: \"POST\",\n      body: JSON.stringify(data),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    };\n    return await fetch(url, settings).then(res => res.json()).then(res => {\n      this.fetchCars();\n    }).catch(error => console.error(\"Error:\", error));\n  }\n\n  async fetchClients() {\n    var url = \"http://localhost:8080/client\";\n    return await fetch(url).then(res => res.json()).then(res => {\n      this.setState(_objectSpread({}, this.state, {\n        clientList: res\n      }));\n    }).catch(error => console.error(\"Error:\", error));\n  }\n\n  async fetchCars() {\n    var url = \"http://localhost:8080/car\";\n    return await fetch(url).then(res => res.json()).then(res => {\n      this.setState(_objectSpread({}, this.state, {\n        carList: res\n      }));\n    }).catch(error => console.error(\"Error:\", error));\n  }\n\n  async componentDidMount() {\n    this.fetchClients();\n    this.fetchCars();\n  }\n\n  render() {\n    return React.createElement(Style, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, \"CAR CREATE\"), React.createElement(\"form\", {\n      action: \"\",\n      method: \"post\",\n      onSubmit: e => {\n        e.preventDefault();\n        this.submitForm();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, \" \", React.createElement(Input, {\n      type: \"text\",\n      name: \"patent\",\n      id: \"patentInput\",\n      placeholder: \"Patente\",\n      onChange: this.handleChange,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }), React.createElement(Input, {\n      type: \"text\",\n      name: \"brand\",\n      id: \"brandInput\",\n      placeholder: \"Marca\",\n      onChange: this.handleChange,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }), React.createElement(Input, {\n      type: \"text\",\n      name: \"model\",\n      id: \"modelInput\",\n      placeholder: \"Modelo\",\n      onChange: this.handleChange,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }), React.createElement(Input, {\n      type: \"number\",\n      name: \"year\",\n      id: \"yearInput\",\n      placeholder: \"A\\xF1o\",\n      onChange: this.handleChange,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }), React.createElement(SelectOwner, {\n      clients: this.state.clientList,\n      clientChange: this.clientChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }), React.createElement(Button, {\n      color: \"green\",\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, \" \", \"CREAR\", \" \")), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, React.createElement(CarList, {\n      carList: this.state.carList,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    })));\n  }\n\n}","map":{"version":3,"sources":["/home/marcos/workspace/mechanics-app/mechanics-client/src/main/js/src/components/CarCreate.js"],"names":["React","Component","styled","Input","Button","CarList","Style","div","SelectOwner","clients","clientChange","length","map","client","i","id","name","lastName","CarCreate","state","formData","clientList","carList","handleChange","event","setState","target","value","submitForm","url","data","settings","method","body","JSON","stringify","headers","fetch","then","res","json","fetchCars","catch","error","console","fetchClients","componentDidMount","render","e","preventDefault"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport styled from \"styled-components\";\nimport { Input, Button } from \"rsuite\";\n\nimport CarList from \"./CarList\";\n\nconst Style = styled.div``;\n\nfunction SelectOwner({ clients, clientChange }) {\n  if (clients.length > 0) {\n    return (\n      <select\n        name=\"client\"\n        id=\"\"\n        onChange={clientChange}\n        defaultValue={\"DEFAULT\"}\n        required\n      >\n        <option disabled value=\"DEFAULT\">\n          -- select an owner --\n        </option>\n        {clients.map((client, i) => {\n          return (\n            <option value={client.id} key={i}>\n              {client.name + \" \" + client.lastName}{\" \"}\n            </option>\n          );\n        })}\n      </select>\n    );\n  } else {\n    return \"CREAR CLIENTES\";\n  }\n}\n\nexport default class CarCreate extends Component {\n  state = {\n    formData: {},\n    clientList: [],\n    carList: []\n  };\n\n  handleChange = event => {\n    this.setState({\n      formData: {\n        ...this.state.formData,\n        [event.target.name]: event.target.value\n      }\n    });\n  };\n\n  clientChange = event => {\n    let client = this.state.clientList[event.target.value - 1];\n    this.setState({\n      ...this.state,\n      formData: {\n        ...this.state.formData,\n        client: client\n      }\n    });\n  };\n\n  //MODIFICAR!\n  async submitForm() {\n    /// meter en process.env\n    var url = \"http://localhost:8080/car\";\n    var data = this.state.formData;\n    var settings = {\n      method: \"POST\",\n      body: JSON.stringify(data),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    };\n    return await fetch(url, settings)\n      .then(res => res.json())\n      .then(res => {\n        this.fetchCars();\n      })\n      .catch(error => console.error(\"Error:\", error));\n  }\n\n  async fetchClients() {\n    var url = \"http://localhost:8080/client\";\n    return await fetch(url)\n      .then(res => res.json())\n      .then(res => {\n        this.setState({\n          ...this.state,\n          clientList: res\n        });\n      })\n      .catch(error => console.error(\"Error:\", error));\n  }\n\n  async fetchCars() {\n    var url = \"http://localhost:8080/car\";\n    return await fetch(url)\n      .then(res => res.json())\n      .then(res => {\n        this.setState({\n          ...this.state,\n          carList: res\n        });\n      })\n      .catch(error => console.error(\"Error:\", error));\n  }\n\n  async componentDidMount() {\n    this.fetchClients();\n    this.fetchCars();\n  }\n\n  render() {\n    return (\n      <Style>\n        <h2>CAR CREATE</h2>\n        <form\n          action=\"\"\n          method=\"post\"\n          onSubmit={e => {\n            e.preventDefault();\n            this.submitForm();\n          }}\n        >\n          {\" \"}\n          <Input\n            type=\"text\"\n            name=\"patent\"\n            id=\"patentInput\"\n            placeholder=\"Patente\"\n            onChange={this.handleChange}\n            required\n          />\n          <Input\n            type=\"text\"\n            name=\"brand\"\n            id=\"brandInput\"\n            placeholder=\"Marca\"\n            onChange={this.handleChange}\n            required\n          />\n          <Input\n            type=\"text\"\n            name=\"model\"\n            id=\"modelInput\"\n            placeholder=\"Modelo\"\n            onChange={this.handleChange}\n            required\n          />\n          <Input\n            type=\"number\"\n            name=\"year\"\n            id=\"yearInput\"\n            placeholder=\"AÃ±o\"\n            onChange={this.handleChange}\n            required\n          />\n          <SelectOwner\n            clients={this.state.clientList}\n            clientChange={this.clientChange}\n          />\n          <Button color=\"green\" type=\"submit\">\n            {\" \"}\n            CREAR{\" \"}\n          </Button>\n        </form>\n        <div>\n          <CarList carList={this.state.carList} />\n        </div>\n      </Style>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}